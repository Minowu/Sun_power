---
description: Quản lý sản phẩm và tạo field mới cho products.ts
globs: src/data/products.ts
alwaysApply: true
---

# Product Management Rules

## Nhớ và quản lý sản phẩm từ products.ts

Khi làm việc với file `src/data/products.ts`, hãy tuân theo các quy tắc sau:

### 1. Cấu trúc sản phẩm hiện tại
- **ProductFeature interface**: title, subFeatures[]
- **Product interface**: id, name, description, image, category, subCategory, slug?, features?
- **ProductDetail interface**: id, slug, name, images, overview, details, features?
- **Categories**: inverter, energy_storage, accessories, smart_energy_platform

### 2. Cấu trúc Features:

```typescript
export interface ProductFeature {
  title: string;           // Tiêu đề feature (VD: "Convenient & User-Friendly")
  subFeatures: string[];   // Danh sách sub-features với bullet points
}

// Ví dụ sử dụng trong Product
features: [
  {
    title: 'Convenient & User-Friendly',
    subFeatures: [
      '• Compact and lightweight design, plug-and-play installation',
      '• App-based quick setup, simple and efficient'
    ]
  },
  {
    title: 'Profitable & Efficient', 
    subFeatures: [
      '• 160% PV oversizing for extended output',
      '• 98.2% efficiency with wide MPPT range',
      '• 18A design, ideal for high-power modules'
    ]
  }
]
```

### 3. Khi thêm sản phẩm mới:

```typescript
// Luôn import image trước
import newProductImg from '../assets/products/category/subcategory/product.png';

// Thêm vào mảng products
{
  id: 'unique-product-id',
  name: 'Product Name',
  description: 'Mô tả ngắn gọn',
  image: newProductImg,
  category: 'category_name',
  subCategory: 'subcategory_name',
  // Các field mới nếu có
  price: 1000000,
  availability: true,
  rating: 4.5,
  tags: ['tag1', 'tag2']
}
```

### 4. Dữ liệu ProductDetail:

Dữ liệu ProductDetail được tạo tự động từ Product array thông qua map function:

```typescript
export const productDetails: ProductDetail[] = products.map(product => ({
  id: product.id,
  slug: product.id,
  name: product.name,
  images: [product.image],
  overview: { /* ... */ },
  details: { /* ... */ },
  features: product.features  // Features được truyền trực tiếp từ Product
}));
```

### 5. Categories và SubCategories:

**Inverter**: hybrid, microinverter, string
**Energy Storage**: batteries, all_in_one, ci_ess, container  
**Accessories**: controllers, loggers, communication
**Smart Platform**: cloud_platform

### 6. Quy tắc đặt tên:
- ID: lowercase với dấu gạch ngang (kebab-case)
- Name: Viết hoa chữ cái đầu, có thể có số và dấu gạch ngang
- Description: Tiếng Việt, ngắn gọn, mô tả chức năng chính
- Image path: theo cấu trúc thư mục sản phẩm

### 7. Khi được yêu cầu tạo field mới:
1. Xác định field cần thiết
2. Cập nhật interface Product và ProductDetail
3. Cập nhật tất cả sản phẩm hiện có (nếu cần)
4. Cập nhật productDetails mapping
5. Đảm bảo type safety